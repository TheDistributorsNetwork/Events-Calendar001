<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Members</title>

<style>
body { font-family: Arial; background:#002147; color:white; padding:30px; }

input { padding:8px; margin:5px; width:250px; }

.btn {
  background:#FFD700;
  padding:8px 15px;
  margin:5px;
  cursor:pointer;
}

.rights-row {
  display:flex;
  align-items:center;
  margin:5px 0;
}
.rights-row input {
  width:auto;
  margin-right:10px;
}
</style>
</head>
<body>

<h2>Members Management</h2>

<h3>Add / Edit User</h3>
<input id="username" placeholder="Username"><br>
<input id="password" placeholder="Password"><br>

<div class="rights-row">
<input type="checkbox" id="canRequestEvent">
<label>Can Request Event</label>
</div>

<div class="rights-row">
<input type="checkbox" id="isAdmin">
<label>Admin Rights</label>
</div>

<div class="rights-row">
<input type="checkbox" id="active" checked>
<label>Active</label>
</div>

<button class="btn" onclick="saveUser()">Save User</button>

<h3>Approved Events</h3>
<div id="approvedList"></div>

<script>

function getUsers(){ return JSON.parse(localStorage.getItem("users")||"{}"); }
function saveUsers(u){ localStorage.setItem("users",JSON.stringify(u)); }
function getApproved(){ return JSON.parse(localStorage.getItem("approvedEvents")||"[]"); }
function saveApproved(a){ localStorage.setItem("approvedEvents",JSON.stringify(a)); }

function saveUser(){
  const users=getUsers();
  users[username.value]={
    password:password.value,
    canRequestEvent:canRequestEvent.checked,
    isAdmin:isAdmin.checked,
    active:active.checked
  };
  saveUsers(users);
  alert("User Saved");
}

function loadApproved(){
  const approved=getApproved();
  const div=document.getElementById("approvedList");
  div.innerHTML="";

  approved.forEach((e,index)=>{
    div.innerHTML+=`
    <div style="margin-bottom:10px;">
    ${e.date} - ${e.title}
    <button onclick="removeEvent(${index})">Remove</button>
    </div>`;
  });
}

function removeEvent(i){
  const approved=getApproved();
  approved.splice(i,1);
  saveApproved(approved);
  loadApproved();
}

loadApproved();

</script>
</body>
</html>
